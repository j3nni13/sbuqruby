<div class="row">
<div class="col-md-6">
<%= image_tag "listing.jpg", class: "img-responsive" %>
</div>
<div class="col-md-6">
<h3> <%= @listing.title %></h3>
<p> <%= @listing.location %></p>

<p> <b>Venue type(s):</b><br>

	<% @listing.venuetypes.each do |cat| %>
 	 <%= cat.name %><br>
	<% end %>

<p> <b>Event type(s): </b><br>
	<% @listing.eventtypes.each do |cat| %>
 	 <%= cat.name %><br>
	<% end %>

<p>Min Capacity: <%= @listing.mincapacity %></p>
<p>Max Capacity: <%= @listing.maxcapacity %></p>

<p> <%= @listing.description %>
<h4 class="text-center">
	<%= number_to_currency(@listing.price, :unit => "$") %>
</h4>
</div>
<div class="row">
<div id="map-canvas" style="width: 100%; height: 400px;"></div>

</div>
</div>

<% if can? :update, @listing %>
<%= link_to 'Edit', edit_listing_path(@listing) %> |
<% end %>
<%= link_to 'Back', listings_path %>

<script type="text/javascript">
      function initialize() {
      	var mycenter = { lat: <%= @listing.latitude %>, lng: <%= @listing.longitude %> };
        var mapOptions = {
          center: mycenter, 
          zoom: 13
        };
        var map = new google.maps.Map(document.getElementById('map-canvas'),
            mapOptions);

        var marker = new google.maps.Marker({
        	position: mycenter,
        	map: map,
        });
      }
      google.maps.event.addDomListener(window, 'load', initialize);
    </script>

